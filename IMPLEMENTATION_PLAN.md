# Anything Skills - Implementation Plan

> ğŸ¯ **é¡¹ç›®ç›®æ ‡**ï¼šä»ä»»æ„å†…å®¹æºï¼ˆè§†é¢‘ã€æ–‡æ¡£ã€ä»£ç ï¼‰è‡ªåŠ¨æå–çŸ¥è¯†ï¼Œç”Ÿæˆæ ‡å‡†åŒ– Claude Skills

---

## ğŸ“Š æ•´ä½“è¿›åº¦

| é˜¶æ®µ | åç§° | çŠ¶æ€ | æè¿° |
|------|------|------|------|
| Phase 1 | Video Extraction | âœ… Done | Bilibili & YouTube è§†é¢‘ä¸‹è½½ |
| Phase 2 | Whisper Transcription | âœ… Done | éŸ³é¢‘è½¬æ–‡å­— |
| Phase 3 | LLM Skill Generation | âœ… Done | åŸºç¡€æŠ€èƒ½ç”Ÿæˆ |
| Phase 4 | Skills.sh Marketplace | âœ… Done | æŠ€èƒ½å¸‚åœºé›†æˆ |
| Phase 5 | Multi-Agent System | ğŸŸ¡ In Progress | å¤šæ™ºèƒ½ä½“é—­ç¯ |
| Phase 6 | GitHub Analysis | ğŸ”´ Planned | ä»“åº“å†…å®¹åˆ†æ |
| Phase 7 | ArXiv & Web Crawler | ğŸ”´ Planned | è®ºæ–‡/ç½‘é¡µæŠ“å– |

---

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Frontend (Web UI)                         â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚   â”‚   Anything2Skills   â”‚    â”‚     Agent Arena        â”‚         â”‚
â”‚   â”‚   - Search & Installâ”‚    â”‚   - Multi-Agent View   â”‚         â”‚
â”‚   â”‚   - Generate Skills â”‚    â”‚   - SSE Streaming      â”‚         â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚ REST API + SSE
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      FastAPI Backend                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚                  Application Layer                       â”‚   â”‚
â”‚   â”‚     agent_service.py  |  stream_processor.py             â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚                   Core Agents Layer                      â”‚   â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚   â”‚  â”‚Orchestratorâ”‚â†’â”‚SkillGeneratorâ”‚â†’â”‚ScenarioSimulator â”‚   â”‚   â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚   â”‚
â”‚   â”‚  â”‚  Executor  â”‚ â”‚  Validator   â”‚                        â”‚   â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚                    Services Layer                        â”‚   â”‚
â”‚   â”‚  video_pipeline â”‚ llm â”‚ skills_store â”‚ github_search    â”‚   â”‚
â”‚   â”‚  skills_sh â”‚ web_search â”‚ tool_registry                  â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
anything-skills/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ api/                     # FastAPI è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ main.py              # åº”ç”¨å…¥å£
â”‚   â”‚   â”œâ”€â”€ routes.py            # æ ¸å¿ƒ API
â”‚   â”‚   â”œâ”€â”€ anything2skills.py   # ä¸»é¡µé¢ API
â”‚   â”‚   â””â”€â”€ agent_arena.py       # å¤šæ™ºèƒ½ä½“ç«æŠ€åœº
â”‚   â”‚
â”‚   â”œâ”€â”€ application/             # åº”ç”¨ç¼–æ’å±‚
â”‚   â”‚   â”œâ”€â”€ agent_service.py     # Agent ç¼–æ’å…¥å£
â”‚   â”‚   â””â”€â”€ stream_processor.py  # SSE äº‹ä»¶æ„å»º
â”‚   â”‚
â”‚   â”œâ”€â”€ core_agents/             # å¤šæ™ºèƒ½ä½“æ ¸å¿ƒ
â”‚   â”‚   â”œâ”€â”€ orchestrator.py      # ç¼–æ’å™¨ (æµç¨‹æ§åˆ¶)
â”‚   â”‚   â”œâ”€â”€ executor.py          # æ‰§è¡Œå™¨ (çœŸå®æ‰§è¡Œ)
â”‚   â”‚   â”œâ”€â”€ skill_generator.py   # æŠ€èƒ½ç”Ÿæˆå™¨
â”‚   â”‚   â”œâ”€â”€ scenario_simulator.py# åœºæ™¯æ¨¡æ‹Ÿå™¨
â”‚   â”‚   â””â”€â”€ validator.py         # éªŒè¯å™¨
â”‚   â”‚
â”‚   â”œâ”€â”€ services/                # æœåŠ¡å±‚
â”‚   â”‚   â”œâ”€â”€ llm.py               # LLM è°ƒç”¨
â”‚   â”‚   â”œâ”€â”€ video_pipeline.py    # è§†é¢‘å¤„ç†æµæ°´çº¿
â”‚   â”‚   â”œâ”€â”€ skills_store.py      # æœ¬åœ°æŠ€èƒ½å­˜å‚¨ + è‡ªåŠ¨è¯„ä¼°
â”‚   â”‚   â”œâ”€â”€ skills_sh.py         # skills.sh å¸‚åœº
â”‚   â”‚   â”œâ”€â”€ github_search.py     # GitHub æœç´¢
â”‚   â”‚   â”œâ”€â”€ web_search.py        # Bocha Web æœç´¢
â”‚   â”‚   â”œâ”€â”€ tool_registry.py     # å·¥å…·æ³¨å†Œä¸­å¿ƒ
â”‚   â”‚   â””â”€â”€ agent_middleware.py  # Agent ä¸­é—´ä»¶
â”‚   â”‚
â”‚   â”œâ”€â”€ prompts/                 # æç¤ºè¯æ¨¡æ¿
â”‚   â”‚   â”œâ”€â”€ executor.txt
â”‚   â”‚   â”œâ”€â”€ skill_generator.txt
â”‚   â”‚   â””â”€â”€ scenario.txt
â”‚   â”‚
â”‚   â”œâ”€â”€ models/                  # æ•°æ®æ¨¡å‹
â”‚   â”‚   â””â”€â”€ unified.py           # UnifiedContent ç­‰
â”‚   â”‚
â”‚   â””â”€â”€ templates/               # Jinja2 æ¨¡æ¿
â”‚       â”œâ”€â”€ anything2skills.html
â”‚       â””â”€â”€ agent_arena.html
â”‚
â”œâ”€â”€ skills/                      # æŠ€èƒ½å·¥å…·
â”‚   â””â”€â”€ skill-evaluator/         # æŠ€èƒ½è¯„ä¼°å™¨ âœ…
â”‚       â”œâ”€â”€ SKILL.md
â”‚       â””â”€â”€ scripts/
â”‚           â”œâ”€â”€ quick_eval.py
â”‚           â””â”€â”€ visualize.py
â”‚
â”œâ”€â”€ output/                      # è¾“å‡ºç›®å½•
â”‚   â”œâ”€â”€ content/                 # æå–çš„å†…å®¹
â”‚   â””â”€â”€ skills/                  # ç”Ÿæˆçš„æŠ€èƒ½
â”‚
â””â”€â”€ docs/                        # æ–‡æ¡£
    â””â”€â”€ ANY2SKILL_IMPLEMENTATION.md
```

---

## âœ… å·²å®ŒæˆåŠŸèƒ½

### 1. è§†é¢‘å¤„ç†æµæ°´çº¿ (Phase 1-2)
- [x] Bilibili è§†é¢‘ä¸‹è½½ä¸è§£æ
- [x] YouTube è§†é¢‘ä¸‹è½½ (via yt-dlp)
- [x] Whisper éŸ³é¢‘è½¬æ–‡å­—
- [x] ç»Ÿä¸€å†…å®¹æ¨¡å‹ (UnifiedContent)

### 2. æŠ€èƒ½ç”Ÿæˆä¸å­˜å‚¨ (Phase 3)
- [x] LLM é©±åŠ¨çš„æŠ€èƒ½ç”Ÿæˆ
- [x] æ ‡å‡†åŒ– SKILL.md æ ¼å¼
- [x] æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿå­˜å‚¨
- [x] **æŠ€èƒ½è‡ªåŠ¨è¯„ä¼°** (skill-evaluator)
  - å¤šç»´åº¦è¯„åˆ† (structure, triggers, actionability, tool_refs, examples)
  - å¾½ç« ç³»ç»Ÿ (ğŸ¥‡Gold/ğŸ¥ˆSilver/ğŸ¥‰Bronze)
  - HTML è¯„ä¼°æŠ¥å‘Šç”Ÿæˆ

### 3. æŠ€èƒ½å¸‚åœºé›†æˆ (Phase 4)
- [x] skills.sh æœç´¢
- [x] ä¸€é”®å®‰è£…æŠ€èƒ½
- [x] GitHub ä»“åº“æœç´¢

### 4. å¤šæ™ºèƒ½ä½“åŸºç¡€ (Phase 5 éƒ¨åˆ†)
- [x] Orchestrator ç¼–æ’å™¨
- [x] Executor æ‰§è¡Œå™¨ (GitHub/Bilibili/Web)
- [x] SkillGenerator æŠ€èƒ½ç”Ÿæˆå™¨
- [x] ScenarioSimulator åœºæ™¯æ¨¡æ‹Ÿå™¨
- [x] Validator éªŒè¯å™¨
- [x] SSE æµå¼è¾“å‡º
- [x] Agent Arena UI

### 5. Web UI
- [x] Anything2Skills ä¸»é¡µé¢
- [x] Agent Arena ç«æŠ€åœº
- [x] è¯„ä¼°ç»“æœå±•ç¤º

---

## ğŸ”§ å¾…å®ç°åŠŸèƒ½

### Phase 5: å¤šæ™ºèƒ½ä½“ç³»ç»Ÿå®Œå–„

#### 5.1 é—­ç¯éªŒè¯æµç¨‹
- [ ] æ‰§è¡Œå™¨ç»“æœå›ä¼ ç»™ Skill ç”Ÿæˆå™¨
- [ ] åœºæ™¯æ¨¡æ‹Ÿå™¨ç”Ÿæˆæµ‹è¯•ç”¨ä¾‹
- [ ] Validator æ‰§è¡ŒéªŒè¯å¹¶å›æµ
- [ ] å¤±è´¥é‡è¯•æœºåˆ¶ (max_rounds: 2-3)
- [ ] æœ€ç»ˆè´¨é‡æŠ¥å‘Š

#### 5.2 å·¥å…·æ³¨å†Œä¸­å¿ƒå¢å¼º
- [ ] ç»Ÿä¸€å·¥å…·æ¥å£è§„èŒƒ
- [ ] å·¥å…·è°ƒç”¨è¿½è¸ªä¸æ—¥å¿—
- [ ] å·¥å…·è°ƒç”¨ç»“æœç¼“å­˜

#### 5.3 ä¼šè¯ç®¡ç†
- [ ] SessionManager å®ç°
- [ ] ä¸Šä¸‹æ–‡è®°å¿†ä¸æˆªæ–­
- [ ] å¤šè½®å¯¹è¯æ”¯æŒ

---

### Phase 6: GitHub ä»“åº“åˆ†æ

#### 6.1 ä»£ç å†…å®¹æå–
- [ ] README.md è§£æ
- [ ] æ ¸å¿ƒä»£ç æ–‡ä»¶è¯†åˆ«
- [ ] ä¾èµ–åˆ†æ (requirements.txt, package.json)
- [ ] ä½¿ç”¨ç¤ºä¾‹æå–

#### 6.2 æŠ€èƒ½ç”Ÿæˆå¢å¼º
- [ ] ä»£ç ç‰‡æ®µåµŒå…¥
- [ ] API ç”¨æ³•æå–
- [ ] æœ€ä½³å®è·µè¯†åˆ«

---

### Phase 7: ArXiv & Web Crawler

#### 7.1 ArXiv è®ºæ–‡è§£æ
- [ ] PDF ä¸‹è½½ä¸è§£æ
- [ ] æ‘˜è¦/æ–¹æ³•/ç»“è®ºæå–
- [ ] å¼•ç”¨å…³ç³»åˆ†æ
- [ ] ç®—æ³•æ­¥éª¤æå–

#### 7.2 é€šç”¨ç½‘é¡µçˆ¬è™«
- [ ] URL å†…å®¹æŠ“å–
- [ ] æ­£æ–‡æå– (å»é™¤å¹¿å‘Š/å¯¼èˆª)
- [ ] ç»“æ„åŒ–å†…å®¹è¯†åˆ«
- [ ] æ•™ç¨‹/æ–‡æ¡£è§£æ

---

### Phase 8: é«˜çº§åŠŸèƒ½ (æœªæ¥è§„åˆ’)

#### 8.1 RAG çŸ¥è¯†åº“
- [ ] å‘é‡æ•°æ®åº“é›†æˆ
- [ ] è¯­ä¹‰æ£€ç´¢å¢å¼º
- [ ] å¢é‡çŸ¥è¯†æ›´æ–°

#### 8.2 MCP å·¥å…·åè®®
- [ ] æ ‡å‡†åŒ–å·¥å…·æ¥å…¥
- [ ] å¤–éƒ¨æœåŠ¡é›†æˆ
- [ ] åŠ¨æ€å·¥å…·å‘ç°

#### 8.3 è‡ªåŠ¨åŒ–æµ‹è¯•
- [ ] CI/CD é›†æˆ
- [ ] æŠ€èƒ½å›å½’æµ‹è¯•
- [ ] è´¨é‡ç›‘æ§ä»ªè¡¨ç›˜

---

## ğŸ”Œ ç¯å¢ƒé…ç½®

```bash
# Required
OPENAI_API_KEY=sk-xxx           # LLM è°ƒç”¨
OPENAI_BASE_URL=                # è‡ªå®šä¹‰ API ç«¯ç‚¹ (å¯é€‰)
OPENAI_MODEL=gpt-4o-mini        # é»˜è®¤æ¨¡å‹

# Optional
GITHUB_TOKEN=                   # GitHub API (æé«˜é™æµ)
WHISPER_MODEL=base              # Whisper æ¨¡å‹å¤§å°
YTDLP_COOKIES_PATH=             # yt-dlp cookies
BOCHA_API_KEY=                  # Bocha æœç´¢
BOCHA_API_ENDPOINT=https://api.bocha.cn/v1/web-search
```

---

## ğŸš€ å¯åŠ¨å‘½ä»¤

```bash
# å¼€å‘æ¨¡å¼
python3 -m uvicorn src.api.main:app --reload --port 8000

# è®¿é—®
# API æ–‡æ¡£: http://localhost:8000/docs
# ä¸»é¡µé¢:   http://localhost:8000/anything2skills
# ç«æŠ€åœº:   http://localhost:8000/agent-arena
```

---

## ğŸ“ æ•°æ®ç»“æ„è§„èŒƒ

### Agent è¾“å‡ºç»“æ„
```json
{
  "status": "ok|fail",
  "next_agent": "skill_generator|scenario_simulator|executor|validator|final",
  "payload": {},
  "errors": [],
  "trace_id": "uuid"
}
```

### SSE äº‹ä»¶æ ¼å¼
```json
{
  "agent": "executor|skill_generator|...",
  "stage": "plan|action|thought|observation|error|done",
  "event": "search|generate|validate|...",
  "message": "æè¿°ä¿¡æ¯",
  "payload": {},
  "timestamp": 1730000000
}
```

### LocalSkill æ¨¡å‹
```python
@dataclass
class LocalSkill:
    id: str
    name: str
    description: str
    source: str
    path: Path
    eval_score: Optional[float] = None      # æ€»è¯„åˆ†
    eval_badge: Optional[str] = None        # gold/silver/bronze
    eval_report_path: Optional[Path] = None # EVALUATION.html
    eval_scores: Optional[Dict[str, float]] = None  # åˆ†ç»´åº¦è¯„åˆ†
```

---

## ğŸ¯ ä¸‹ä¸€æ­¥è¡ŒåŠ¨

1. **Phase 5.1**: å®ç°å®Œæ•´çš„éªŒè¯é—­ç¯æµç¨‹
2. **Phase 5.2**: å¢å¼º tool_registry ç»Ÿä¸€å·¥å…·è°ƒç”¨
3. **Phase 5.3**: æ·»åŠ  SessionManager æ”¯æŒå¤šè½®å¯¹è¯
4. **Phase 6**: GitHub ä»“åº“å†…å®¹æ·±åº¦åˆ†æ

---

## ğŸ“š å‚è€ƒæ–‡æ¡£

- [docs/ANY2SKILL_IMPLEMENTATION.md](docs/ANY2SKILL_IMPLEMENTATION.md) - å¤šæ™ºèƒ½ä½“è®¾è®¡è¯¦è§£
- [docs/ANY2SKILL.pdf](docs/ANY2SKILL.pdf) - é¡¹ç›®æ„¿æ™¯æ–‡æ¡£
- [skills/skill-evaluator/SKILL.md](skills/skill-evaluator/SKILL.md) - è¯„ä¼°å™¨ä½¿ç”¨è¯´æ˜

---

*Last Updated: 2026-01-28*
